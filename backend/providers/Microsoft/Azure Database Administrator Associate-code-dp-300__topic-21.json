[
  {
    "topic": 21,
    "index": 1,
    "url": "https://www.examtopics.com/discussions/microsoft/view/96567-exam-dp-300-topic-21-question-1-discussion/",
    "body": "You need to identify the cause of the performance issues on SalesSQLDb1.<br>Which two dynamic management views should you use? Each correct answer presents part of the solution.<br>NOTE: Each correct selection is worth one point.<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tsys.dm_pdw_nodes_tran_locks",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tsys.dm_exec_compute_node_errors",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"C\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tC.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tsys.dm_exec_requests",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"D\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tD.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tsys.dm_cdc_errors",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"E\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tE.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tsys.dm_pdw_nodes_os_wait_stats",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"F\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tF.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tsys.dm_tran_locks"
    ],
    "answer": "CF",
    "answerDescription": "SalesSQLDb1 experiences performance issues that are likely due to out-of-date statistics and frequent blocking queries.<br>Seeing a Count of All Active SQL Server Wait Types.<br>Sometimes we're trying to diagnose a problem and we want to know if we're seeing a large number of wait types occurring. We can do this using sys.dm_exec_requests because the current wait type being experienced is presented. Therefore, if we filter out any background or sleeping tasks, we can get a picture of what the waits are for active requests and we can also see if we have a problem. Here's the query:<br>SELECT COALESCE(wait_type, 'None') AS wait_type, COUNT(*) AS Total<br><br>FROM sys.dm_exec_requests -<br>WHERE NOT status IN ('Background', 'Sleeping')<br><br>GROUP BY wait_type -<br>ORDER BY Total DESC;<br>Here is an example of the query output:<br><img src=\"/assets/media/exam-media/04275/0018500001.jpg\" class=\"in-exam-image\"><br>We see that we have two LCK_M_S wait types. This is the wait type we get when we have requests waiting on obtaining a shared lock. We can then query along with sys.dm_tran_locks to determine what types of locks these active requests were trying to obtain:<br>SELECT L.request_session_id, L.resource_type,<br>L.resource_subtype, L.request_mode, L.request_type<br><br>FROM sys.dm_tran_locks AS L -<br>JOIN sys.dm_exec_requests AS DER<br>ON L.request_session_id = DER.session_id<br>WHERE DER.wait_type = 'LCK_M_S';<br>Incorrect:<br>Not A: Azure SQL database does not have sys.dm_pdw_nodes_tran_locks.<br>Not E: Azure SQL database does not have sys.dm_pdw_nodes_os_wait_stats.<br>Reference:<br>https://www.mssqltips.com/sqlservertip/5521/understanding-and-using-sql-server-sysdmexecrequests/",
    "votes": [],
    "comments": [
      {
        "date": "2024-04-19T06:39:00.000Z",
        "voteCount": 6,
        "content": "Damn - made it to the last question ... now comes the revising. I've marked on my copy which questions are not for DP-300 (the DP-203 ones). Good Luck everyone!"
      },
      {
        "date": "2024-05-12T08:17:00.000Z",
        "voteCount": 13,
        "content": "Hey folks, I sat the exam last week and passed well above 800. I did not have any simulations in mine. Be sure to research the suggested answers and discussions yourself, this way you are learning the necessary areas because the multiple choice ordering will be different in the exam.\n\nI would say around 85% of the questions were in this dump. It's alot to go through 300+ questions but I feel happy I did since many of the questions came up.\n\nAlso ExamTopics was the first to update the dump with new questions from the April 2024 updates - the case study for Adatum (financial company) came up in exam.\n\nThanks ExamTopics and thanks to the community for their comments!"
      },
      {
        "date": "2023-09-16T18:59:00.000Z",
        "voteCount": 1,
        "content": "sys.dm_exec_requests: returns information about each request that is executing in SQL Server.\n\nsys.dm_tran_locks: Returns information about currently active lock manager resources in SQL Server. Each row represents a currently active request to the lock manager for a lock that has been granted or is waiting to be granted.\n\nhttps://learn.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-tran-locks-transact-sql?view=sql-server-ver16\nhttps://learn.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-requests-transact-sql?view=sql-server-ver16"
      },
      {
        "date": "2023-07-16T10:38:00.000Z",
        "voteCount": 1,
        "content": "pdw = parallel data warehouse\nhttps://learn.microsoft.com/en-us/sql/analytics-platform-system/tsql-system-views?view=aps-pdw-2016-au7"
      },
      {
        "date": "2023-07-16T10:36:00.000Z",
        "voteCount": 1,
        "content": "https://learn.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-tran-locks-transact-sql?view=sql-server-ver16\nReturns information about currently active lock manager resources in SQL Server. Each row represents a currently active request to the lock manager for a lock that has been granted or is waiting to be granted."
      },
      {
        "date": "2023-01-22T22:58:00.000Z",
        "voteCount": 4,
        "content": "Last question in this dump as of 24.01.23. Happy learning"
      },
      {
        "date": "2023-04-28T01:16:00.000Z",
        "voteCount": 2,
        "content": "Rest here travesera. You've seen too many DataBases todas."
      }
    ],
    "examNameCode": "dp-300",
    "topicNumber": "21"
  }
]