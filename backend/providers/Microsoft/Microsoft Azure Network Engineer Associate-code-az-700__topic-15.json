[
  {
    "topic": 15,
    "index": 1,
    "url": "https://www.examtopics.com/discussions/microsoft/view/79619-exam-az-700-topic-15-question-1-discussion/",
    "body": "HOTSPOT -<br>In which NSGs can you use ASG1 and to which virtual machine network interfaces can you associate ASG1? To answer, select the appropriate options in the answer area.<br>NOTE: Each correct selection is worth one point.<br>Hot Area:<br><img src=\"/assets/media/exam-media/04253/0019300001.jpg\" class=\"in-exam-image\"><br>",
    "options": [],
    "answer": "<img src=\"/assets/media/exam-media/04253/0019400001.jpg\" class=\"in-exam-image\">",
    "answerDescription": "",
    "votes": [],
    "comments": [
      {
        "date": "2022-09-11T08:19:00.000Z",
        "voteCount": 36,
        "content": "NSG1,NSG2  same vnet\nVM2 only NIC in same Vnet\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups"
      },
      {
        "date": "2023-10-27T00:07:00.000Z",
        "voteCount": 1,
        "content": "Yep, so \n\nNSGs (only in the same region*, West US): NSG1, NSG2 &amp; NSG5 only\n*Tested in a lab:\n-ASG in Australia SE\n-NSG in Australia SE =&gt; New inbound rule, source ASG,  ASG listed in the drop down box\n-NSG in SE Asia =&gt; New inbound rule, source ASG,  NO ASGs listed in the drop down box to select from\n\nVM (only in the same vNet**): VM2 only\n* already assigned to VM1 so limited to Vnet1\nhttps://learn.microsoft.com/en-us/azure/virtual-network/application-security-groups\n\"All network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in.\""
      },
      {
        "date": "2022-09-05T23:05:00.000Z",
        "voteCount": 20,
        "content": "Tested\nNSG1, NSG2, and NSG5 only : ASG and NSG must be in the same region\nVM2 only : network interfaces attached to an ASG must be in the same vNet.\nhttps://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups"
      },
      {
        "date": "2022-09-08T08:53:00.000Z",
        "voteCount": 18,
        "content": "NSG1 &amp; NSG2\nVM2 Only\n\nNSG5 also is out of the question: \nAll network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in. For example, if the first network interface assigned to an application security group named AsgWeb is in the virtual network named VNet1, then all subsequent network interfaces assigned to ASGWeb must exist in VNet1. You cannot add network interfaces from different virtual networks to the same application security group.\nref: https://docs.microsoft.com/en-us/azure/virtual-network/application-security-groups"
      },
      {
        "date": "2022-10-25T06:18:00.000Z",
        "voteCount": 1,
        "content": "Correct. ASG1 is applied on VM1. VM1\u2019s interface is the first network interface assigned to ASG1, thus all subsequent network interfaces assigned to ASG1 must exist in VNet1. NSG2 exists in VNet1."
      },
      {
        "date": "2023-03-14T05:19:00.000Z",
        "voteCount": 2,
        "content": "I set up this lab scenario.  When I go to NSG5 and create an inbound rule, I am able to change the destination to application security group and ASG1 is visible as an option to select.  When I try in NSG3 and NSG4, the Destination application security groups drop down is greyed out and says 'No application security groups found'.\n\nWhen I go to Network under Settings on VM5, the ASG1 application security group is visible as an option to choose.  However, when I click save, the operation fails indicating that the ASG is already attached to another device in a separate subnet.\n\nI was successfully able to add VM2 to the ASG, but ASG1 was not even visible to VM3 and VM4.\n\nThe questions seems to want to drive home the point that NSGs and ASGs need to be in the same region if you intend to use the ASG in an NSG rule, while VM NICs added to an ASG need to be in the same VNET."
      },
      {
        "date": "2022-11-24T23:49:00.000Z",
        "voteCount": 1,
        "content": "Please read the question again, and the next paragraph in the link. The question is about connection between ASG and NSG, not between ASG and NIC."
      },
      {
        "date": "2023-03-13T07:00:00.000Z",
        "voteCount": 3,
        "content": "I was initially only NSG1 &amp; NSG2 only, but came across these 2 websites:\n\nhttps://medium.com/awesome-azure/azure-application-security-group-asg-1e5e2e5321c3\nhttps://petri.com/understanding-application-security-groups-in-the-azure-portal/\n\nWhich both state:\n\nSource and Destination in the new rule blade allow you to select any application security group in the same region.\n\nSo while their may be not practical use case for using ASG1 in NSG5 in this case, the ASG can be selected by any NSGs in the same region.\n\nThe only caveat being:\n\nIf you specify an application security group as the source and destination in a security rule, the network interfaces in both application security groups must exist in the same virtual network.\n\nSo I would agree that NSG1, NSG2 and NSG5 can use ASG1.  And only VM2 can be added to ASG1 due to the NICs needing to be in the same VNET."
      },
      {
        "date": "2023-04-04T12:55:00.000Z",
        "voteCount": 2,
        "content": "I set up this lab scenario. When I go to NSG5 and create an inbound rule, I am able to change the destination to application security group and ASG1 is visible as an option to select. When I try in NSG3 and NSG4, the Destination application security groups drop down is greyed out and says 'No application security groups found'.\n\nWhen I go to Network under Settings on VM5, the ASG1 application security group is visible as an option to choose. However, when I click save, the operation fails indicating that the ASG is already attached to another device in a separate subnet.\n\nI was successfully able to add VM2 to the ASG, but ASG1 was not even visible to VM3 and VM4.\n\nThe questions seems to want to drive home the point that NSGs and ASGs need to be in the same region if you intend to use the ASG in an NSG rule, while VM NICs added to an ASG need to be in the same VNET."
      },
      {
        "date": "2024-03-02T03:34:00.000Z",
        "voteCount": 1,
        "content": "Yep! I have tested too."
      },
      {
        "date": "2023-03-22T08:43:00.000Z",
        "voteCount": 2,
        "content": "NSG1, NSG2, and NSG5 only. Also tested and it's true. You can use ASG from another VNET in the same region."
      },
      {
        "date": "2024-02-11T14:26:00.000Z",
        "voteCount": 1,
        "content": "https://learn.microsoft.com/en-us/azure/virtual-network/application-security-groups#:~:text=All%20network%20interfaces,application%20security%20group."
      },
      {
        "date": "2023-09-27T10:07:00.000Z",
        "voteCount": 2,
        "content": "In exam Sep, 2023"
      },
      {
        "date": "2023-05-04T12:13:00.000Z",
        "voteCount": 11,
        "content": "Congrats on making it to the last question. Godspeed and best of luck everyone :D"
      },
      {
        "date": "2023-04-07T06:03:00.000Z",
        "voteCount": 1,
        "content": "- All network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in. For example, if the first network interface assigned to an application security group named AsgWeb is in the virtual network named VNet1, then all subsequent network interfaces assigned to ASGWeb must exist in VNet1. You cannot add network interfaces from different virtual networks to the same application security group.\n\n- If you specify an application security group as the source and destination in a security rule, the network interfaces in both application security groups must exist in the same virtual network. For example, if AsgLogic contained network interfaces from VNet1, and AsgDb contained network interfaces from VNet2, you could not assign AsgLogic as the source and AsgDb as the destination in a rule. All network interfaces for both the source and destination application security groups need to exist in the same virtual network.\n\nSo, you can apply the ASG to all NSG within the same region :\n    =&gt; \"NSG1, NSG2, and NSG5 only\"\nBut, as VM1 NIC is already in the ASG, you cannot add another NIC from a different VNet:\n    =&gt; \"VM2 only\""
      },
      {
        "date": "2023-02-09T07:55:00.000Z",
        "voteCount": 5,
        "content": "I believe the answers are:\n\nNSGS = NSG1, NSG2 and NSG5 only.\n\nMy reasoning for this is that an ASG can be used in NSG rules for any NSG within the same region.\n\nVirtual Machines = VM2 only\n\nThe ASG can only be attached to NICS within the same virtual network.\n\nI have tested this in my lab."
      },
      {
        "date": "2023-01-21T09:23:00.000Z",
        "voteCount": 3,
        "content": "Box 1: NSG 1 and NSG 2\nBox 2: VM2"
      },
      {
        "date": "2022-12-30T09:14:00.000Z",
        "voteCount": 1,
        "content": "NSG 1 and NSG2: As per All network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in. For example, if the first network interface assigned to an application security group named AsgWeb is in the virtual network named VNet1, then all subsequent network interfaces assigned to ASGWeb must exist in VNet1. You cannot add network interfaces from different virtual networks to the same application security group."
      },
      {
        "date": "2022-11-27T02:47:00.000Z",
        "voteCount": 5,
        "content": "Box 1: NSG 1 and NSG 2\nBox 2: VM2 , VM1 only \n\nThis has been tested on the LAB. \n\nAll network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in. For example, if the first network interface assigned to an application security group named AsgWeb is in the virtual network named VNet1, then all subsequent network interfaces assigned to ASGWeb must exist in VNet1. You cannot add network interfaces from different virtual networks to the same application security group.\nhttps://learn.microsoft.com/en-us/azure/virtual-network/application-security-groups#allow-database-businesslogic"
      },
      {
        "date": "2022-11-26T16:59:00.000Z",
        "voteCount": 2,
        "content": "Box 1: NSG 1 and NSG 2\nBox 2: VM2 \n\nAll network interfaces assigned to an application security group have to exist in the same virtual network that the first network interface assigned to the application security group is in. For example, if the first network interface assigned to an application security group named AsgWeb is in the virtual network named VNet1, then all subsequent network interfaces assigned to ASGWeb must exist in VNet1. You cannot add network interfaces from different virtual networks to the same application security group.\nhttps://learn.microsoft.com/en-us/azure/virtual-network/application-security-groups#allow-database-businesslogic"
      },
      {
        "date": "2022-10-12T21:01:00.000Z",
        "voteCount": 1,
        "content": "box1: only vnets 1 and 4 are in westUS, so only NSGs in this region can re-use the existing ASG1\n     result: NSG1, NSG2 and NSG5\n\nbox2:\nAll network interfaces assigned to an application security group have to exist in the same virtual network that \nthe first network interface assigned to the application security group is in. For example, \nif the first network interface assigned to an application security group named AsgWeb is in the virtual network named VNet1, \nthen all subsequent network interfaces assigned to ASGWeb must exist in VNet1. \nYou cannot add network interfaces from different virtual networks to the same application security group.\nsource:https://learn.microsoft.com/en-us/azure/virtual-network/application-security-groups\n\nresult:Vm2 only (was already assigned to VM1, which is in vnet1)"
      },
      {
        "date": "2022-10-07T13:18:00.000Z",
        "voteCount": 2,
        "content": "These are correct answers !! Rest is your wish to opt for .\n\nNSG1, NSG2, and NSG5 only\nVM2 only"
      },
      {
        "date": "2022-09-02T16:31:00.000Z",
        "voteCount": 2,
        "content": "Correct."
      }
    ],
    "examNameCode": "az-700",
    "topicNumber": "15"
  }
]