[
  {
    "topic": 2,
    "index": 1,
    "url": "https://www.examtopics.com/discussions/microsoft/view/23566-exam-70-764-topic-2-question-2-discussion/",
    "body": "You have a database named DB1.<br>Users report that a database application that updates the data in DB1 is unresponsive.<br>You need to identify which process prevents the application from responding.<br>What should you do?<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tRun DBCC INPUTBUFFER.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tQuery sys.dm_exec_session_wait_stats.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"C\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tC.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tRun sp_autostats.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"D\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tD.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tRun sp_who.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"E\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tE.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tQuery sys.dm_db_resource_stats.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"F\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tF.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tRun sp_getapplock.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"G\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tG.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tQuery sys.dm_os_waiting_tasks."
    ],
    "answer": "B",
    "answerDescription": "Sys.dm_exec_session_wait_stats returns information about all the waits encountered by threads that executed for each session. You can use this view to diagnose performance issues with the SQL Server session and also with specific queries and batches.<br>References:<br>https://docs.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-session-wait-stats-transact-sql",
    "votes": [],
    "comments": [
      {
        "date": "2020-06-19T23:20:00.000Z",
        "voteCount": 2,
        "content": "With  B DMV we can identify wait types but we cannot find who blocked the session . i think the correct is D because the question asks to identify the process that prevents the query (aka blockers.)"
      }
    ],
    "examNameCode": "70-764",
    "topicNumber": "2"
  },
  {
    "topic": 2,
    "index": 2,
    "url": "https://www.examtopics.com/discussions/microsoft/view/30420-exam-70-764-topic-2-question-3-discussion/",
    "body": "Note: This question is part of a series of questions that present the same scenario. Each question in the series contains a unique solution that might meet the stated goals. Some question sets might have more than one correct solution, while others might not have a correct solution.<br>After you answer a question in this section, you will NOT be able to return to it. As a result, these questions will not appear in the review screen.<br>You support an application that stores data in a Microsoft SQL Server database. You have a query that returns data for a report that users run frequently.<br>The query optimizer sometimes generates a poorly-performing plan for the query when certain parameters are used. You observe that this is due to the distribution of data within a specific table that the query uses.<br>You need to ensure that the query optimizer always uses the query plan that you prefer.<br>Solution: You force the desired plan.<br>Does the solution meet the goal?<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tYes",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tNo"
    ],
    "answer": "B",
    "answerDescription": "KEEPFIXED PLAN should be used as it forces the query optimizer not to recompile a query due to changes in statistics.<br>When FORCEPLAN is set to ON, the SQL Server query optimizer processes a join in the same order as the tables appear in the FROM clause of a query. In addition, setting FORCEPLAN to ON forces the use of a nested loop join unless other types of joins are required to construct a plan for the query, or they are requested with join hints or query hints.<br>References:<br>https://docs.microsoft.com/en-us/sql/t-sql/queries/hints-transact-sql-query?view=sql-server-2017",
    "votes": [],
    "comments": [
      {
        "date": "2020-09-02T13:22:00.000Z",
        "voteCount": 2,
        "content": "Correct: Yes\nUSE PLAN N'&lt;xml_plan&gt;'\nForces the Query Optimizer to use an existing query plan for a query that is specified by 'xml_plan'. USE PLAN cannot be specified with INSERT, UPDATE, MERGE, or DELETE statements."
      }
    ],
    "examNameCode": "70-764",
    "topicNumber": "2"
  },
  {
    "topic": 2,
    "index": 3,
    "url": "https://www.examtopics.com/discussions/microsoft/view/30422-exam-70-764-topic-2-question-6-discussion/",
    "body": "You maintain a database named DB1 that has a nonpartitioned table. You create an index in the table. Automatic statistic updates are disabled.<br>Uses report that some Microsoft SQL Server Reporting Service (SSRS) queries take long time to run. You determine that the issue is caused by stale statistics for<br>Index1.<br>You need to update the statistics for the index.<br>What should you do?<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tSet the value of the Database Read-Only property to True.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tRun the system stored procedure sp_updatestats.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"C\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tC.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tSet the value of the Auto Create Incremental Statistics property to True.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"D\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tD.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tRun the UPDATE STATISTICS command with the COLUMNS option."
    ],
    "answer": "D",
    "answerDescription": "UPDATE STATISTICS updates query optimization statistics on a table or indexed view.<br>The ALL | COLUMNS | INDEX options update all existing statistics, statistics created on one or more columns, or statistics created for indexes. If none of the options are specified, the UPDATE STATISTICS statement updates all statistics on the table or indexed view.<br>Note: You can update query optimization statistics on a table or indexed view in SQL Server by using SQL Server Management Studio or Transact-SQL. By default, the query optimizer already updates statistics as necessary to improve the query plan; in some cases you can improve query performance by using<br>UPDATE STATISTICS or the stored procedure sp_updatestats to update statistics more frequently than the default updates.<br>References:<br>https://docs.microsoft.com/en-us/sql/t-sql/statements/update-statistics-transact-sql?view=sql-server-2017",
    "votes": [],
    "comments": [
      {
        "date": "2020-09-14T09:56:00.000Z",
        "voteCount": 1,
        "content": "B is correct"
      },
      {
        "date": "2020-10-18T23:47:00.000Z",
        "voteCount": 1,
        "content": "without parameters, it will only show you the current state..."
      },
      {
        "date": "2020-11-01T02:29:00.000Z",
        "voteCount": 1,
        "content": "sorry, my bad, this SP will update stats for the whole DB and we need just one table"
      },
      {
        "date": "2020-09-02T15:05:00.000Z",
        "voteCount": 1,
        "content": "It can also be done with Reorganize the index."
      }
    ],
    "examNameCode": "70-764",
    "topicNumber": "2"
  },
  {
    "topic": 2,
    "index": 4,
    "url": "https://www.examtopics.com/discussions/microsoft/view/16261-exam-70-764-topic-2-question-9-discussion/",
    "body": "You have a Microsoft SQL Server instance that has a database named DB1. The database is used for reporting purposes. You plan to capture all queries for a specific table and save the data as a text file.<br>You need to ensure that queries are captured and that a failure to capture a query will shut down the SQL Server instance.<br>Which two actions should you perform? Each correct answer presents part of the solution.<br>NOTE: Each correct selection is worth one point.<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tEnable SQL Server Audit.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tUse Extended Events.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"C\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tC.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tUse a logon trigger.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"D\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tD.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tCreate a SQL Server Profiler trace and disable c2 audit tracing.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"E\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tE.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tEnable SQL Server Query Store."
    ],
    "answer": "AD",
    "answerDescription": "The general process for creating and using an audit is as follows.<br>Create an audit and define the target.<br>Create either a server audit specification or database audit specification that maps to the audit. Enable the audit specification.<br>Enable the audit.<br>Read the audit events by using the Windows Event Viewer, Log File Viewer, or the fn_get_audit_file function.<br>References:<br>https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-database-engine",
    "votes": [],
    "comments": [
      {
        "date": "2020-03-11T07:41:00.000Z",
        "voteCount": 5,
        "content": "Why not B instead of D. Profiler is replaced with extended events."
      }
    ],
    "examNameCode": "70-764",
    "topicNumber": "2"
  },
  {
    "topic": 2,
    "index": 5,
    "url": "https://www.examtopics.com/discussions/microsoft/view/19025-exam-70-764-topic-2-question-13-discussion/",
    "body": "You maintain a database named DB1 that has a nonpartitioned table. You create an index in the table. Automatic statistic updates are disabled.<br>Uses report that some Microsoft SQL Server Reporting Service (SSRS) queries take a long time to run. You determine that the issue is caused by stale statistics for Index1.<br>You need to update the statistics for the index.<br>What should you do?<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tRun the system stored procedure sp_updatestats.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tReorganize the index.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"C\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tC.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tSet the value of the Database Read-Only property to True.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"D\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tD.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tSet the value of the Auto Create Incremental Statistics property to True."
    ],
    "answer": "A",
    "answerDescription": "sp_updatestats runs UPDATE STATISTICS against all user-defined and internal tables in the current database. In some cases you can improve query performance by using UPDATE STATISTICS or the stored procedure sp_updatestats to update statistics more frequently than the default updates.<br>Note: UPDATE STATISTICS would be a better option as it updates query optimization statistics on a table or indexed view, but it is not an option here.<br>References:<br>https://docs.microsoft.com/en-us/sql/relational-databases/system-stored-procedures/sp-updatestats-transact-sql",
    "votes": [],
    "comments": [
      {
        "date": "2020-04-24T18:18:00.000Z",
        "voteCount": 2,
        "content": "Another solution:\nUPDATE STATISTICS with the option COLUMNS."
      },
      {
        "date": "2020-09-02T14:50:00.000Z",
        "voteCount": 1,
        "content": "But the correct answer is: B. Reorganize the index."
      },
      {
        "date": "2020-10-28T00:48:00.000Z",
        "voteCount": 3,
        "content": "Reorganize does not update stats. REBUILD does. A is correct."
      }
    ],
    "examNameCode": "70-764",
    "topicNumber": "2"
  }
]