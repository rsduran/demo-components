[
  {
    "topic": 8,
    "index": 1,
    "url": "https://www.examtopics.com/discussions/microsoft/view/62824-exam-az-304-topic-8-question-1-discussion/",
    "body": "HOTSPOT -<br>You plan to migrate App1 to Azure.<br>You need to recommend a storage solution for App1 that meets the security and compliance requirements.<br>Which type of storage should you recommend, and how should you recommend configuring the storage? To answer, select the appropriate options in the answer area.<br>NOTE: Each correct selection is worth one point.<br>Hot Area:<br><img src=\"/assets/media/exam-media/04027/0003000001.png\" class=\"in-exam-image\"><br>",
    "options": [],
    "answer": "<img src=\"/assets/media/exam-media/04027/0003100001.png\" class=\"in-exam-image\">",
    "answerDescription": "Explanation;<br><br>Box 1: BlobStorage -<br>BlobStorage supports NFSv3, see below.<br><br>Box 2: NFSv3 -<br>Blob storage now supports the Network File System (NFS) 3.0 protocol. This support provides Linux file system compatibility at object storage scale and prices and enables Linux clients to mount a container in Blob storage from an Azure Virtual Machine (VM) or a computer on-premises.<br>Scenario: Litware identifies the following security and compliance requirements:<br>\u2711 On-premises users and services must be able to access the Azure Storage account that will host the data in App1.<br>Reference:<br>https://docs.microsoft.com/en-us/azure/storage/blobs/network-file-system-protocol-support",
    "votes": [],
    "comments": [
      {
        "date": "2021-10-16T13:51:00.000Z",
        "voteCount": 30,
        "content": "V2 and Hierarchical Namespaces."
      },
      {
        "date": "2021-12-07T03:10:00.000Z",
        "voteCount": 7,
        "content": "Correct.\n\n\"The Litware.com tenant contains a custom Azure role-based access control (Azure RBAC) role named Role1 that grants the DataActions read permission to the blobs and files in Azure Storage\"\n\nSo we need Storage V2 to support both Files and Blobs. In addition we need Hierarchical Namespace because VMs that need access to the storage account use POSIX ACL file-level permissions storage.\n\nhttps://docs.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-access-control\n\nBesides NFSv3 is for legacy workloads that doedsn't support new and better Hierarchical Namespace technology.\n\nhttps://docs.microsoft.com/en-us/azure/storage/blobs/network-file-system-protocol-support"
      },
      {
        "date": "2021-10-08T01:12:00.000Z",
        "voteCount": 14,
        "content": "https://docs.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-access-control\n\nAzure Data Lake Storage Gen2 implements an access control model that supports both Azure role-based access control (Azure RBAC) and POSIX-like access control lists (ACLs).\n\nhttps://docs.microsoft.com/en-us/azure/storage/blobs/immutable-storage-overview#feature-support\n\nData Lake Storage Gen2 and the Network File System (NFS) 3.0 protocol both require a storage account with a hierarchical namespace enabled.\n\nAccount kind is v2 and Configuration is Hierarchical namespace"
      },
      {
        "date": "2022-06-08T09:02:00.000Z",
        "voteCount": 1,
        "content": "The Data Lake Storage Gen2 hierarchical namespace accelerates big data analytics workloads and enables file-level access control lists (ACLs).\n\nHADOOP+ACL=hierarchical namespace"
      },
      {
        "date": "2022-02-25T16:41:00.000Z",
        "voteCount": 1,
        "content": "Storage V2\nNFS V3\nhttps://azure.microsoft.com/en-us/blog/modernize-largescale-nfs-workloads-and-eliminate-data-silos-with-azure-blob-storage/"
      },
      {
        "date": "2022-02-20T16:07:00.000Z",
        "voteCount": 1,
        "content": "Ok it\u2019s blob and Hierarchical namespace -blob is immutable for retention - but also blob has a cross ability to talk to adls g2.- and when you choose that option - hierarchical namespace checked by default - this answer will change as soon adfs4.1 starts working - for this solution  - it may already be working - no time to test - exam Monday."
      },
      {
        "date": "2022-02-20T16:08:00.000Z",
        "voteCount": 1,
        "content": "Nfs4.1 not adfs lol"
      },
      {
        "date": "2022-02-20T13:30:00.000Z",
        "voteCount": 1,
        "content": "Multiple storage accounts in this case-so skip rbac. -vms one storage, and hadoop 2nd storage account posix support is nfs 4.1 not 3.0-Compare NFS access to Azure Files, Blob Storage, and Azure NetApp Files | Microsoft Docs this requires premium storage - premium- file shares- Create an NFS share - Azure Files | Microsoft Docs\u2026\nThis would mean no heirarchical namespace needed- but im not happy with the answer\n-premium files\n-large file shares"
      },
      {
        "date": "2022-02-20T13:31:00.000Z",
        "voteCount": 1,
        "content": "links - https://docs.microsoft.com/en-us/azure/storage/common/nfs-comparison\nhttps://docs.microsoft.com/en-us/azure/storage/files/storage-files-how-to-create-nfs-shares?tabs=azure-portal\nhttps://docs.microsoft.com/en-us/azure/storage/files/files-nfs-protocol"
      },
      {
        "date": "2022-02-20T13:42:00.000Z",
        "voteCount": 1,
        "content": "Ok Blob now supports nfs3 and nfs3 is compliant with data lake v2 under protocols- i really hate this answer- https://docs.microsoft.com/en-us/azure/storage/common/nfs-comparison\nbut blob storage and heirarcal namesppace- but... it looks like its very close to - file storage- as the answer as soon as soon as hadoop supports nfs 4.1"
      },
      {
        "date": "2022-02-02T02:17:00.000Z",
        "voteCount": 2,
        "content": "-  BlobStorage\n- Hierachical namespace\nFrom the On-premises Environment section we know, that App1 uses an external storage solution that provides Apache Hadoop-compatible storage.Azure Blob Storage provides an Hadoop compatible interface that supports two kinds of blobs, block blobs and page blobs. The Hadoop File System (HDFS) supports a traditional hierarchical file organization.The Hadoop File System (HDFS) supports a traditional hierarchical file organization. Cloud storage services are focused on object storage that have a flat namespace and extensive metadata instead of file systems that provide a hierarchical namespace. To support compatibility we have to enable hierarchical namespace when creating the BlobStorage account."
      },
      {
        "date": "2022-01-09T00:57:00.000Z",
        "voteCount": 1,
        "content": "V2 storage \nHierarchical namespace.\nBlob is service, not account type. Blob storage on available in storage if hierarchical selected."
      },
      {
        "date": "2021-12-23T05:26:00.000Z",
        "voteCount": 1,
        "content": "Appere on exam 23-dec-2021"
      },
      {
        "date": "2021-11-22T01:12:00.000Z",
        "voteCount": 1,
        "content": "Blob Storage and GPv2 support immutable but blob minimize costs\nNFS to make storage accessible from on premise data center"
      },
      {
        "date": "2021-10-31T03:22:00.000Z",
        "voteCount": 2,
        "content": "V2 and Hierarchical Namespaces"
      },
      {
        "date": "2021-10-08T10:31:00.000Z",
        "voteCount": 1,
        "content": "Blob and NSV3."
      },
      {
        "date": "2021-10-08T10:31:00.000Z",
        "voteCount": 1,
        "content": "NFSv3*"
      },
      {
        "date": "2022-01-19T12:29:00.000Z",
        "voteCount": 1,
        "content": "It is not NFSv3 because security can only be provided at the network layer, not using Azure AD\nhttps://docs.microsoft.com/en-us/azure/storage/blobs/network-file-system-protocol-support#network-security\nit is a requirement that App1 use VM managed identity to access Azure resources."
      },
      {
        "date": "2021-10-03T11:54:00.000Z",
        "voteCount": 4,
        "content": "Blob Storage is correct :\nOnce App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\n\nThis means immutable storage that is only available in Blob Storage https://docs.microsoft.com/en-us/azure/storage/blobs/immutable-storage-overview"
      },
      {
        "date": "2021-09-28T15:49:00.000Z",
        "voteCount": 5,
        "content": "Azure Data Lake Storage Gen2 is an Apache Hadoop file system that is compatible with Hadoop Distributed File System (HDFS) and works with the Hadoop ecosystem. It implements an access control model that supports both Azure role-based access control (Azure RBAC) and POSIX-like access control lists (ACLs).\n\nThe answer should be Azure Data Lake Storage Gen2\n\nWHAT! NO SUCH AN OPTION!!!\n\nRemember that if you try searching for \u201cAzure Data Lake Storage Gen2\u201d in the Azure portal, you will not find what you\u2019re looking for! ADLS Gen2 accounts are provisioned by configuring the \u201cenable hierarchical namespace\u201d option in the creation process of an Azure Storage Account.\n\nI've tested in my lab. Select GEN V2 in Performance seciont in Basic tab, then you will find \u201cenable hierarchical namespace\u201d is enabled by default in Advanced tab."
      },
      {
        "date": "2021-09-29T11:00:00.000Z",
        "voteCount": 5,
        "content": "Good point to bring up DataLakeStorag. \nThe first question is asking about \"the type of storage accounts\". The Storage v2 supports DataLakeStorage Gen2. The Other two are not.\nThe answer to the second question will be \"Hierarchical namespace\". The Other two options are NFS and SMB. They are not recommended (but might work).\nhttps://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-hadoop-compare-storage-options\nhttps://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview#types-of-storage-accounts"
      },
      {
        "date": "2021-09-27T08:53:00.000Z",
        "voteCount": 4,
        "content": "NFSv3 is the right choice because App1 is hosted on Server1,2,3 and App1 uses an external storage solution (see Server1,2,3 configuration table)\n\nfor account type, v2 should be recommended and it supports nfsv3"
      },
      {
        "date": "2021-10-09T07:44:00.000Z",
        "voteCount": 1,
        "content": "But you can't configure NFSv3 without also enabling hierarchical namespaces?"
      }
    ],
    "examNameCode": "az-304",
    "topicNumber": "8"
  },
  {
    "topic": 8,
    "index": 2,
    "url": "https://www.examtopics.com/discussions/microsoft/view/63332-exam-az-304-topic-8-question-2-discussion/",
    "body": "You migrate App1 to Azure.<br>You need to ensure that the data storage for App1 meets the security and compliance requirements.<br>What should you do?<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tCreate Azure RBAC assignments.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tCreate an access policy for the blob service.\n\t\t\t\t\t\t\t\t\t\t<span class=\"badge badge-success most-voted-answer-badge\" title=\"\" style=\"display: none;\" data-original-title=\"This answer is currently the most voted for in the discussion\">\n                Most Voted\n            </span>",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"C\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tC.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tModify the access level of the blob service.",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"D\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tD.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tImplement Azure resource locks."
    ],
    "answer": "B",
    "answerDescription": "",
    "votes": [
      {
        "answer": "B",
        "count": 7,
        "isMostVoted": true
      }
    ],
    "comments": [
      {
        "date": "2021-09-30T03:43:00.000Z",
        "voteCount": 30,
        "content": "Correct Answer is B"
      },
      {
        "date": "2021-10-08T01:14:00.000Z",
        "voteCount": 11,
        "content": "\"Once App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\"\n\nAnswer is B"
      },
      {
        "date": "2022-03-07T14:22:00.000Z",
        "voteCount": 1,
        "content": "But isn't this feature retention policy instead of access policy?"
      },
      {
        "date": "2022-07-10T08:40:00.000Z",
        "voteCount": 2,
        "content": "Well, we have two separate requirements for this question;\n\n1: Once App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\n2: On-premises users and services must be able to access the Azure Storage account that will host the data in App1.\n\nThe question is;\n\"You migrate App1 to Azure.\nYou need to ensure that the data storage for App1 meets the security and compliance requirements.\nWhat should you do?\"\n\nRBAC would surely handle the bullet 2. But I think this question is actually suggesting that the storage needs immutability enabled so 'modification of new and existing data is prevented...'.\n\nTo me, the access policy would handle the requirement of both objectives. It will prevent the modification of data, but still allow the users to access the storage account. So I would choose 'B' for this question."
      },
      {
        "date": "2022-12-12T20:14:00.000Z",
        "voteCount": 1,
        "content": "I think, 1,Once App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\n2,On-premises users and services must be able to access the Azure Storage account that will host the data in App1.\n3,Access to the public endpoint of the Azure Storage account that will host the App1 data must be prevented.\nthese three items belong to security and compliance requirement.\nIt can be met with security settings - shared access signature - allow permissions and expiry date of storage account. So answer should be B."
      },
      {
        "date": "2022-06-10T10:49:00.000Z",
        "voteCount": 1,
        "content": "security and compliance requirements = Private access policy for the storage account\nB"
      },
      {
        "date": "2022-04-14T06:31:00.000Z",
        "voteCount": 1,
        "content": "If the question is to meet the authentication and authorization requirements, the answer should be A. If it's to meet the Security and Compliance Requirements, the answer should be B, IMHO"
      },
      {
        "date": "2022-03-25T17:17:00.000Z",
        "voteCount": 2,
        "content": "I don't know if this applies but it does lend to the answer possibly being correct. On https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/howto-assign-access-portal\nUse Azure RBAC to assign a managed identity access to another resource\n\nAfter you've enabled managed identity on an Azure resource, such as an Azure VM or Azure virtual machine scale set:\n\n    Sign in to the Azure portal using an account associated with the Azure subscription under which you have configured the managed identity.\n\n    Navigate to the desired resource on which you want to modify access control. In this example, we are giving an Azure virtual machine access to a storage account, so we navigate to the storage account.\n\n    Select Access control (IAM).\n\n    Select Add &gt; Add role assignment to open the Add role assignment page.\n\n    Select the role and managed identity. For detailed steps, see Assign Azure roles using the Azure portal."
      },
      {
        "date": "2022-02-26T11:28:00.000Z",
        "voteCount": 1,
        "content": "I'm not so sure.   The provided answer/explanation of A seems pretty compelling.\nMaybe the process of elimination might help here.   Answer B saids \"Create an access policy for the blob service\".   This pretty much translates to use shared access signatures (SAS tokens).   But this is contradictory to the requirement which saids \"To access the resources in Azure, App1 must use the managed identity of the virtual machines that will host the app.\"   SAS tokens aren't tied to IDs (except user delegated SAS, but I don't think that's what they're after here).  RBAC, on the other hand, is 100% tied to a credential, such as the aforementioned managed identity.   So all in all, I vote for A,  \"Create Azure RBAC assignments.\""
      },
      {
        "date": "2022-03-08T18:11:00.000Z",
        "voteCount": 2,
        "content": "The question says you need to meet the security and compliance requirements\n'Access to the public endpoint of the Azure Storage account that will host the App1 data must be prevented.'\n\nOn this basis I think an access policy will fit the solution."
      },
      {
        "date": "2022-02-02T10:58:00.000Z",
        "voteCount": 1,
        "content": "voting B"
      },
      {
        "date": "2022-01-19T12:53:00.000Z",
        "voteCount": 1,
        "content": "User delegation SAS and stored access policy would seem to do it.\nhttps://docs.microsoft.com/en-us/azure/storage/common/storage-sas-overview\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/create-user-delegation-sas\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/define-stored-access-policy\nhttps://docs.microsoft.com/en-us/rest/api/storageservices/set-container-acl"
      },
      {
        "date": "2022-01-12T08:59:00.000Z",
        "voteCount": 1,
        "content": "Correct answer is: B - Create an access policy for the blob service"
      },
      {
        "date": "2022-01-03T12:18:00.000Z",
        "voteCount": 2,
        "content": "the correct is b"
      },
      {
        "date": "2021-12-30T04:29:00.000Z",
        "voteCount": 2,
        "content": "Only policy will do.\n\n\"Once App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\n\nAnswer is B"
      },
      {
        "date": "2021-12-24T03:47:00.000Z",
        "voteCount": 1,
        "content": "On exam 24.12.2021"
      },
      {
        "date": "2021-12-23T05:27:00.000Z",
        "voteCount": 1,
        "content": "Appere on exam 23-dec-2021"
      },
      {
        "date": "2021-12-21T11:59:00.000Z",
        "voteCount": 2,
        "content": "Answer is B"
      },
      {
        "date": "2021-10-16T13:56:00.000Z",
        "voteCount": 5,
        "content": "The answer is B."
      }
    ],
    "examNameCode": "az-304",
    "topicNumber": "8"
  },
  {
    "topic": 8,
    "index": 3,
    "url": "https://www.examtopics.com/discussions/microsoft/view/61225-exam-az-304-topic-8-question-3-discussion/",
    "body": "HOTSPOT -<br>You need to ensure that users managing the production environment are registered for Azure MFA and must authenticate by using Azure MFA when they sign in to the Azure portal. The solution must meet the authentication and authorization requirements.<br>What should you do? To answer, select the appropriate options in the answer area.<br>NOTE: Each correct selection is worth one point.<br>Hot Area:<br><img src=\"/assets/media/exam-media/04027/0003300001.png\" class=\"in-exam-image\"><br>",
    "options": [],
    "answer": "<img src=\"/assets/media/exam-media/04027/0003300002.png\" class=\"in-exam-image\">",
    "answerDescription": "Box 1: Azure AD Identity Protection<br>Azure AD Identity Protection helps you manage the roll-out of Azure AD Multi-Factor Authentication (MFA) registration by configuring a Conditional Access policy to require MFA registration no matter what modern authentication app you are signing in to.<br>Scenario: Users that manage the production environment by using the Azure portal must connect from a hybrid Azure AD-joined device and authenticate by using<br>Azure Multi-Factor Authentication (MFA).<br>Box 2: Sign-in risk policy...<br>Scenario: The Litware.com tenant has a conditional access policy named capolicy1. Capolicy1 requires that when users manage the Azure subscription for a production environment by using the Azure portal, they must connect from a hybrid Azure AD-joined device.<br>Identity Protection policies we have two risk policies that we can enable in our directory.<br>\u2711 Sign-in risk policy<br>\u2711 User risk policy<br>Reference:<br>https://docs.microsoft.com/en-us/azure/active-directory/identity-protection/howto-identity-protection-configure-mfa-policy https://docs.microsoft.com/en-us/azure/active-directory/identity-protection/howto-identity-protection-configure-risk-policies",
    "votes": [],
    "comments": [
      {
        "date": "2021-08-31T21:29:00.000Z",
        "voteCount": 37,
        "content": "I disagree. At least with the second answer.\n\nWe already have Capolicy1 that \"requires that when users manage the Azure subscription for a production environment by using the Azure portal, they must connect from a hybrid Azure AD-joined device.\"\n\nThe easiest way to achieve MFA would be modifying the modifying Grant control in Capolicy1 (just adding \"Require MFA\" there). \"Sign-in risk policy\" seems not applicable here, as the MFA requirement is not linked to any risk conditions (like 'when logging on from certain countries', 'when account is at risk' etc.).\n\nThe first answer is more complex. Enabling \"Security Default\" would meet the requirement (and enforce users to register for MFA). But it would also enforce MFA for administrative access (thus make the other question futile), and it would have other effects (like blocking legacy authentication protocols, and we don't know if that is desired).\n\nMFA Registration Policy is part of azure AD Identity Protection. So I'd go for\n\n1: Azure AD Identity Protection\n2: Grant control in capolicy1"
      },
      {
        "date": "2021-09-03T01:19:00.000Z",
        "voteCount": 1,
        "content": "You may confirm?"
      },
      {
        "date": "2021-09-26T16:36:00.000Z",
        "voteCount": 1,
        "content": "Agree with you. Grant Control in Conditional access policy is better option for 2nd question"
      },
      {
        "date": "2021-10-31T03:38:00.000Z",
        "voteCount": 7,
        "content": "1: Azure AD Identity Protection\n2: Grant control in capolicy1"
      },
      {
        "date": "2022-05-28T17:25:00.000Z",
        "voteCount": 3,
        "content": "It says to register the users for Azure MFA\n\nSecurity defaults in Azure AD\nArticle\n04/24/2022\n8 minutes to read\n8 contributors\n\n\nMicrosoft is making security defaults available to everyone, because managing security can be difficult. Identity-related attacks like password spray, replay, and phishing are common in today's environment. More than 99.9% of these identity-related attacks are stopped by using multi-factor authentication (MFA) and blocking legacy authentication. The goal is to ensure that all organizations have at least a basic level of security enabled at no extra cost.\n\nSecurity defaults\n make it easier to help protect your organization from these identity-related attacks with preconfigured security settings:\n\nRequiring all users to register for Azure AD Multi-Factor Authentication.\nRequiring administrators to do multi-factor authentication.\nRequiring users to do multi-factor authentication when necessary.\nBlocking legacy authentication protocols.\nProtecting privileged activities like access to the Azure portal."
      },
      {
        "date": "2022-06-26T22:47:00.000Z",
        "voteCount": 1,
        "content": "I thought Security Defaults looked good, then I read \"If you're using Conditional Access in your environment today, security defaults won't be available to you.\"\nhttps://docs.microsoft.com/en-us/azure/active-directory/fundamentals/concept-fundamentals-security-defaults#protect-privileged-activities-like-access-to-the-azure-portal"
      },
      {
        "date": "2021-12-24T03:47:00.000Z",
        "voteCount": 3,
        "content": "On exam 24.12.2021"
      },
      {
        "date": "2021-10-08T00:13:00.000Z",
        "voteCount": 4,
        "content": "https://docs.microsoft.com/en-us/azure/active-directory/identity-protection/howto-identity-protection-configure-mfa-policy\n\n1st drop down is correct\n\nhttps://docs.microsoft.com/en-us/azure/active-directory/conditional-access/concept-conditional-access-grant\n\n2nd drop down is grant control in cappolicy1"
      },
      {
        "date": "2021-09-26T22:03:00.000Z",
        "voteCount": 3,
        "content": "1. Azure AD identity protection\nAzure AD Identity Protection helps you manage the roll-out of Azure AD Multi-Factor Authentication (MFA) registration by configuring a Conditional Access policy to require MFA registration no matter what modern authentication app you are signing in to.\nSee instructions here\nhttps://docs.microsoft.com/en-us/azure/active-directory/identity-protection/howto-identity-protection-configure-mfa-policy#policy-configuration\n\n\"Per-user MFA...\" could not be used if conditional access policy is being used. See here https://docs.microsoft.com/en-us/azure/active-directory/authentication/howto-mfa-userstates\n\n\"security defaul..\" also not applicable due to the usage of conditional access policy, see https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/concept-fundamentals-security-defaults\n\n2. the easiest way to configure the \"Grant control in capolicy1\" (verified in the portal)"
      },
      {
        "date": "2021-09-26T16:50:00.000Z",
        "voteCount": 4,
        "content": "1: Azure AD Identity Protection\nLitware.com has Conditional Access Policy. Don't enable or enforce per-user Azure AD Multi-Factor Authentication if you use Conditional Access policies.\nhttps://docs.microsoft.com/en-us/azure/active-directory/authentication/howto-mfa-userstates\nTherefor it should NOT be Per user MFA \n\n2: Grant control in capolicy1\nEnabling Azure AD Multi-Factor Authentication using Conditional Access policies is the recommended approach to protect users. Conditional Access is an Azure AD Premium P1 or P2 feature that lets you apply rules to require MFA as needed in certain scenarios. Grant Control is one step in process to enable MFA in Conditional Access Policy."
      },
      {
        "date": "2021-09-20T04:38:00.000Z",
        "voteCount": 4,
        "content": "came in exam on 20-sep-21, I passed, I choose given one"
      },
      {
        "date": "2021-09-04T23:28:00.000Z",
        "voteCount": 1,
        "content": "Box 1)Per user MFA as users have P2 license\nBox 2)Grant control in capolicy1"
      },
      {
        "date": "2021-09-12T02:47:00.000Z",
        "voteCount": 1,
        "content": "Per user MFA is available even on AAD free tier."
      },
      {
        "date": "2021-09-13T17:42:00.000Z",
        "voteCount": 1,
        "content": "per-user MFA is termed as legacy over conditional access policies.\nAs security defaults enforces additional controls as well, IDP MFA registration policy looks suitable."
      }
    ],
    "examNameCode": "az-304",
    "topicNumber": "8"
  },
  {
    "topic": 8,
    "index": 4,
    "url": "https://www.examtopics.com/discussions/microsoft/view/61226-exam-az-304-topic-8-question-4-discussion/",
    "body": "You plan to migrate App1 to Azure.<br>You need to recommend a network connectivity solution for the Azure Storage account that will host the App1 data. The solution must meet the security and compliance requirements.<br>What should you include in the recommendation?<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\ta private endpoint\n\t\t\t\t\t\t\t\t\t\t<span class=\"badge badge-success most-voted-answer-badge\" title=\"\" style=\"display: none;\" data-original-title=\"This answer is currently the most voted for in the discussion\">\n                Most Voted\n            </span>",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\ta service endpoint that has a service endpoint policy",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"C\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tC.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tAzure public peering for an ExpressRoute circuit",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"D\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tD.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tMicrosoft peering for an ExpressRoute circuit"
    ],
    "answer": "A",
    "answerDescription": "",
    "votes": [
      {
        "answer": "A",
        "count": 6,
        "isMostVoted": true
      },
      {
        "answer": "D",
        "count": 1,
        "isMostVoted": false
      }
    ],
    "comments": [
      {
        "date": "2021-09-26T19:36:00.000Z",
        "voteCount": 22,
        "content": "The answer should be Private Endpoint.\nBelow are requirements for storage account used by app1.\n\nOnce App1 is migrated to Azure, you must ensure that new data can be written to the app, and the modification of new and existing data is prevented for a period of three years.\n--immutable stoarge. not applicable in this question\n\nOn-premises users and services must be able to access the Azure Storage account that will host the data in App1\n---Private Endpoint securely connect to storage accounts from on-premises networks that connect to the VNet using VPN or ExpressRoutes with private-peering.\n\nAccess to the public endpoint of the Azure Storage account that will host the App1 data must be prevented.\n-- Private Endpoint secure your storage account by configuring the storage firewall to block all connections on the public endpoint for the storage service."
      },
      {
        "date": "2021-12-03T10:44:00.000Z",
        "voteCount": 2,
        "content": "Yes you are right. In substance with private peering the on-premises network is considered in azure as any other VNet so it is possible to include it in a Private Endpoint for a Storage Account.\n\nhttps://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings#routingdomains"
      },
      {
        "date": "2021-09-26T19:37:00.000Z",
        "voteCount": 6,
        "content": "some update for other options:\nService Endpoint:\nBy default, Service Endpoints are enabled on subnets configured in Azure virtual networks. Endpoints can't be used for traffic from your premises to Azure services.  If you want to allow traffic from on-premises, you must also allow public (typically, NAT) IP addresses from your on-premises or ExpressRoute. \n\nMicrosoft Peering to ExpressRoute:\nFor Microsoft peering, the NAT IP addresses are either customer provided or provided by the service provider. To allow access to your service resources, you must allow these public IP addresses in the resource IP firewall setting."
      },
      {
        "date": "2021-08-31T21:32:00.000Z",
        "voteCount": 11,
        "content": "I'd almost go for A \"Private Endpoint\" - that is definitely required here, but it is NOT a \"Network Connectivity Solution.\" So answer seems correct, D (Microsoft Peering) - though we already have ExpressRoute."
      },
      {
        "date": "2021-09-05T21:15:00.000Z",
        "voteCount": 2,
        "content": "Agree. The company has ExpressRoute in place that means on-prem users can reach to the services in Azure."
      },
      {
        "date": "2021-09-16T13:16:00.000Z",
        "voteCount": 4,
        "content": "Microsoft peering is for access to Azure public services via public endpoints like public IPs which the question clearly states should not be allowed, with this in mind the ideal solution would be a combination of private peering (which allows connectivity to azure vnets) and a private endpoint. so id go for A private endpoint"
      },
      {
        "date": "2021-11-23T14:02:00.000Z",
        "voteCount": 5,
        "content": "The better answer is A. private endpoint\n\nMicrosoft peering will use public IP to access Microsoft/Azure resources\n\nIf your ExpressRoute circuit is enabled for Azure Microsoft peering, you can access the public IP address ranges used in Azure over the circuit.\n\nSupported:\nAzure Public IP addresses for IaaS (Virtual Machines, Virtual Network Gateways, Load Balancers, etc.)\n\nhttps://docs.microsoft.com/en-us/azure/expressroute/expressroute-faqs#microsoft-peering\n\nPrivate peering will be the answer. Since it's not included, private endpoint would be the choice."
      },
      {
        "date": "2021-11-26T01:27:00.000Z",
        "voteCount": 1,
        "content": "thanks for explanation"
      },
      {
        "date": "2022-11-07T12:00:00.000Z",
        "voteCount": 1,
        "content": "A is correct.   Read \"Private connectivity to Azure PaaS services\" here: https://azure.microsoft.com/en-us/blog/announcing-azure-private-link/\n\nIt Says:\n\n\"With today\u2019s announcement of Azure Private Link, you can simply create a private endpoint in your VNet and map it to your PaaS resource (Your Azure Storage account blob or SQL Database server). These resources are then accessible over a private IP address in your VNet, enabling connectivity from on-premises through Azure ExpressRoute private peering and/or VPN gateway and keep the network configuration simple by not opening it up to public IP addresses.\""
      },
      {
        "date": "2022-03-03T09:14:00.000Z",
        "voteCount": 1,
        "content": "https://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings#privatepeering"
      },
      {
        "date": "2022-02-20T13:33:00.000Z",
        "voteCount": 1,
        "content": "If A is answer then question is then how on-prem will connect to storage service when connectivity is only through ExpressRoute?"
      },
      {
        "date": "2022-02-10T04:38:00.000Z",
        "voteCount": 1,
        "content": "vote A."
      },
      {
        "date": "2022-01-22T04:05:00.000Z",
        "voteCount": 2,
        "content": "The solution must meet the security and compliance requirements. Keeping public endpoint enabled is not a secure way. Hence option A comes close to the requirement."
      },
      {
        "date": "2022-01-05T04:17:00.000Z",
        "voteCount": 2,
        "content": "A is correct. Private endpoint is needed to have prevention of App1 data from public."
      },
      {
        "date": "2021-12-22T02:53:00.000Z",
        "voteCount": 2,
        "content": "On exam today 22-Dec-21"
      },
      {
        "date": "2021-12-16T18:45:00.000Z",
        "voteCount": 1,
        "content": "This answer is D.\n\nThe Security and Compliance Requirements section contains the following:\n\nOn-premises users and services must be able to access the Azure Storage account that will host the data in App1. Access to the public endpoint of the Azure Storage account that will host the App1 data must be prevented.\n\nLitware has ExpressRoute connectivity to Azure. So we can configure ExpressRoute peering for virtual networks.\nYou can set up bi-directional connectivity between your core network and Azure virtual networks (VNets). This peering lets you connect to virtual machines and cloud services directly on their private IP addresses.\n\nhttps://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings"
      },
      {
        "date": "2021-10-31T04:02:00.000Z",
        "voteCount": 1,
        "content": "D \n---"
      },
      {
        "date": "2021-10-31T04:03:00.000Z",
        "voteCount": 3,
        "content": "Sorry A, not D"
      },
      {
        "date": "2021-10-07T23:23:00.000Z",
        "voteCount": 5,
        "content": "https://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings\n\nAzure public peering has been deprecated -&gt; C is out\n\nMicrosoft peering is to Microsoft cloud so D is out as well\n\n\"Access to the public endpoint of the Azure Storage account that will host the App1 data must be prevented\"\n\nAnswer is A"
      },
      {
        "date": "2021-09-26T22:37:00.000Z",
        "voteCount": 5,
        "content": "the best answer should be \"private peering\", \nB) is not applicable\nC) Azure public peering is deprecated and replaced by Microsoft peering\nD) Microsoft Peering is for public IP. Therefore, could not satisfy the private IP storage requirement.\n\nA) is the only feasible option left.\nIt is okay because a private endpiont must use private IP and the pre-requisite is private peering. Here is an example https://docs.microsoft.com/en-aus/azure/migrate/replicate-using-expressroute#replicate-data-by-using-an-expressroute-circuit-with-private-peering\n\nThe expressroute peering is https://docs.microsoft.com/en-us/azure/expressroute/expressroute-circuit-peerings"
      },
      {
        "date": "2021-10-18T06:28:00.000Z",
        "voteCount": 1,
        "content": "Why B) is not applicable? A service Endpoint can not serve the purpose?"
      },
      {
        "date": "2022-01-28T02:56:00.000Z",
        "voteCount": 1,
        "content": "Yes, B) tick all the boxes, When you configure service endpoint, storage account only accessible from subnet that has VMs and on-prem users already have access to Apps through expressroute?"
      },
      {
        "date": "2021-09-15T05:10:00.000Z",
        "voteCount": 3,
        "content": "Remember \"you plan to migrate App1 to Azure\" so Id almost go for A. private Endpoint"
      }
    ],
    "examNameCode": "az-304",
    "topicNumber": "8"
  },
  {
    "topic": 8,
    "index": 5,
    "url": "https://www.examtopics.com/discussions/microsoft/view/61227-exam-az-304-topic-8-question-5-discussion/",
    "body": "You plan to migrate App1 to Azure. The solution must meet the authentication and authorization requirements.<br>Which type of endpoint should App1 use to obtain an access token?<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tAzure Instance Metadata Service (IMDS)\n\t\t\t\t\t\t\t\t\t\t<span class=\"badge badge-success most-voted-answer-badge\" title=\"\" style=\"display: none;\" data-original-title=\"This answer is currently the most voted for in the discussion\">\n                Most Voted\n            </span>",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tAzure AD",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"C\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tC.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tAzure Service Management",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"D\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tD.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tMicrosoft identity platform"
    ],
    "answer": "A",
    "answerDescription": "",
    "votes": [
      {
        "answer": "A",
        "count": 4,
        "isMostVoted": true
      },
      {
        "answer": "D",
        "count": 3,
        "isMostVoted": false
      }
    ],
    "comments": [
      {
        "date": "2021-09-02T06:30:00.000Z",
        "voteCount": 27,
        "content": "I'd go with A: IMDS\n\"A managed identity, assigned by the system, can be enabled on the VM. You can also assign one or more user-assigned managed identities to the VM. You can then request tokens for managed identities from IMDS.\"\nLINK: https://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#managed-identity"
      },
      {
        "date": "2021-11-30T20:21:00.000Z",
        "voteCount": 2,
        "content": "Check this link as well. Links I shared earlier clearly say token can be retrieved from IMDS from the VM it is running on. not outside. so i go with MS identity framework.\nThe security boundary of managed identities for Azure resources, is the resource it's being used on. All code/scripts running on a virtual machine can request and retrieve tokens for any managed identities available on it."
      },
      {
        "date": "2021-12-03T10:53:00.000Z",
        "voteCount": 4,
        "content": "Totally agree with you. IMDS provides an endpoint to request an access token from the VM. App1 is hosted on the VM so answer is A: IMDS\n\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#endpoint-categories"
      },
      {
        "date": "2021-09-26T22:43:00.000Z",
        "voteCount": 6,
        "content": "A. IMDS. Tested. \nThe requirement is \"app1 must use the managed identity of the VM that will host the app\"\nsee here https://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#managed-identity\nand then it will show the URL given by pentium75 \n\nhttps://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token"
      },
      {
        "date": "2023-02-13T22:57:00.000Z",
        "voteCount": 1,
        "content": "I think: D\nBecause: \nhttps://learn.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/overview#:~:text=Azure%20AD%20authentication.-,Applications%20can%20use%20managed%20identities%20to%20obtain%20Azure%20AD%20tokens%20without%20having%20to%20manage%20any%20credentials.,-The%20following%20video\n\n\" Applications can use managed identities to obtain Azure AD tokens without having to manage any credentials.\""
      },
      {
        "date": "2022-05-25T04:36:00.000Z",
        "voteCount": 1,
        "content": "How to use managed identities for Azure resources on an Azure VM to acquire an access token.\nhttps://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token"
      },
      {
        "date": "2022-04-14T12:51:00.000Z",
        "voteCount": 3,
        "content": "This question is a bit confusing. It asks about the type of endpoint to use. IMDS is a REST API, not an endpoint. It contains multiple endpoint categories including  Managed Identity endpoint which should be the answer. As there's no \"Managed Identity\" as an answer choice, D would be the closest"
      },
      {
        "date": "2022-02-22T10:48:00.000Z",
        "voteCount": 1,
        "content": "It is A. Azure Instance Metadata Service (IMDS)"
      },
      {
        "date": "2022-02-10T04:41:00.000Z",
        "voteCount": 1,
        "content": "vote \nA. Azure Instance Metadata Service (IMDS)"
      },
      {
        "date": "2022-01-19T13:15:00.000Z",
        "voteCount": 2,
        "content": "It's not D) as Microsoft identity platform relates to API access (MS Graph and others)\nMicrosoft identity platform documentation https://docs.microsoft.com/en-us/azure/active-directory/develop/\nIt's A) as per others, you call the IMDS with the URI of the Azure resource to be accessed and IMDS gives you an access token to the resource.\nhttps://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token"
      },
      {
        "date": "2021-11-30T15:54:00.000Z",
        "voteCount": 2,
        "content": "IMDS is accessible only within the VM\nhttps://azure.microsoft.com/en-us/blog/azure-ad-managed-service-identity-updates/"
      },
      {
        "date": "2021-12-12T02:53:00.000Z",
        "voteCount": 3,
        "content": "Its hosted on VM so A"
      },
      {
        "date": "2021-10-31T04:36:00.000Z",
        "voteCount": 2,
        "content": "A \n---"
      },
      {
        "date": "2021-10-23T20:16:00.000Z",
        "voteCount": 2,
        "content": "i think for authrntication &amp; authrization - option D\nhttps://docs.microsoft.com/en-us/azure/active-directory/develop/"
      },
      {
        "date": "2021-10-23T20:21:00.000Z",
        "voteCount": 2,
        "content": "i belive IMDS to retrieve token using metadata for authentication only.\non the url-\nhttps://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#managed-identity\n\"A managed identity, assigned by the system, can be enabled on the VM. You can also assign one or more user-assigned managed identities to the VM. You can then request tokens for managed identities from IMDS. Use these tokens to authenticate with other Azure services, such as Azure Key Vault.\""
      },
      {
        "date": "2021-10-05T04:15:00.000Z",
        "voteCount": 2,
        "content": "https://docs.microsoft.com/en-us/azure/virtual-machines/windows/instance-metadata-service?tabs=windows#managed-identity\n\nAnswer is A"
      },
      {
        "date": "2021-09-26T19:35:00.000Z",
        "voteCount": 1,
        "content": "A is correct. question is asking for what type of endpoint\n\nthe Azure Instance Metadata Service (IMDS) endpoint\n\nAzure AD is a service\nAzure Service Management is a API\nMicrosoft Identity platform is a development platform"
      },
      {
        "date": "2021-09-19T07:53:00.000Z",
        "voteCount": 2,
        "content": "I also go for A: imds. Based on: To access the resources in Azure, App1 must use the managed identity of the virtual machines that will host the app, i would say that the running on this vm can only use IMDS to impersonate the managed identity assignd to the vm."
      },
      {
        "date": "2021-08-31T21:35:00.000Z",
        "voteCount": 3,
        "content": "Of course, that is somehow a part of \"Microsoft Identity Platform,\" but you'd clearly use Azure Instance Metadata service (A) to \"obtain the token.\"\n\nhttps://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/how-to-use-vm-token"
      }
    ],
    "examNameCode": "az-304",
    "topicNumber": "8"
  },
  {
    "topic": 8,
    "index": 6,
    "url": "https://www.examtopics.com/discussions/microsoft/view/61228-exam-az-304-topic-8-question-6-discussion/",
    "body": "DRAG DROP -<br>You need to configure an Azure policy to ensure that the Azure SQL databases have TDE enabled. The solution must meet the security and compliance requirements.<br>Which three actions should you perform in sequence? To answer, move the appropriate actions from the list of actions to the answer area and arrange them in the correct order.<br>Select and Place:<br><img src=\"/assets/media/exam-media/04027/0003600001.jpg\" class=\"in-exam-image\"><br>",
    "options": [],
    "answer": "<img src=\"/assets/media/exam-media/04027/0003700001.jpg\" class=\"in-exam-image\">",
    "answerDescription": "Scenario: All Azure SQL databases in the production environment must have Transparent Data Encryption (TDE) enabled.<br>Step 1: Create an Azure policy definition that uses the deployIfNotExists identity.<br>The first step is to define the roles that deployIfNotExists and modify needs in the policy definition to successfully deploy the content of your included template.<br>Step 2: Create an Azure policy assignment<br>When creating an assignment using the portal, Azure Policy both generates the managed identity and grants it the roles defined in roleDefinitionIds.<br>Step 3: Invoke a remediation task<br>Resources that are non-compliant to a deployIfNotExists or modify policy can be put into a compliant state through Remediation. Remediation is accomplished by instructing Azure Policy to run the deployIfNotExists effect or the modify operations of the assigned policy on your existing resources and subscriptions, whether that assignment is to a management group, a subscription, a resource group, or an individual resource.<br>During evaluation, the policy assignment with deployIfNotExists or modify effects determines if there are non-compliant resources or subscriptions. When non- compliant resources or subscriptions are found, the details are provided on the Remediation page.<br>Reference:<br>https://docs.microsoft.com/en-us/azure/governance/policy/how-to/remediate-resources",
    "votes": [],
    "comments": [
      {
        "date": "2021-09-20T04:39:00.000Z",
        "voteCount": 14,
        "content": "came in exam on 20-sep-21, I passed, I choose given one"
      },
      {
        "date": "2021-08-31T21:36:00.000Z",
        "voteCount": 10,
        "content": "Sounds correct. Example in MS docs, to find SQL instances with TDS disabled, uses the \"auditIfNotExists\" effect. So \"deployIfNotExists\" would then be used to enable it."
      },
      {
        "date": "2022-01-26T10:03:00.000Z",
        "voteCount": 1,
        "content": "agreed, answer seems correct!"
      },
      {
        "date": "2022-06-13T12:45:00.000Z",
        "voteCount": 3,
        "content": "Working through possible answers:\nDeployIfNotExists is definitely required, for new or existing resources. Every MS link mentions this.\nCreating a user-assigned managed identity - a managed identity is required, but can be system or user, and a system managed id will be created automatically if one doesn't exist\nInvoke remediation - this is definitely required to remediate existing resources. We are not told that the resources do not yet exist so have to assume that some may exist\nPolicy assignment - obviously required\nPolicy def for modify effect impacts tags, so not required.\nGiven this, the order must be policy definition, policy assignment, remediation task"
      },
      {
        "date": "2022-05-31T23:38:00.000Z",
        "voteCount": 2,
        "content": "I'm going with:\n1. Create a user-assigned managed identity\n2. Create an Azure policy definition that uses the deployIfNotExists effect\n3. Create an Azure policy assignment\nThe policy uses the identity to authenticate and change the resource, see https://docs.microsoft.com/en-us/azure/governance/policy/concepts/assignment-structure#identity"
      },
      {
        "date": "2022-07-15T11:09:00.000Z",
        "voteCount": 2,
        "content": "I think after a reread I should go with the given answer, I think they mean that the managed identity is created during the policy creation"
      },
      {
        "date": "2021-12-31T02:07:00.000Z",
        "voteCount": 2,
        "content": "Given answer is correct.\nPolicy create &gt; assign &gt; invoke or execute"
      },
      {
        "date": "2021-12-13T06:02:00.000Z",
        "voteCount": 2,
        "content": "I am not convinced...\nRemediation of a policy would enable TDE for a database, which had been deployed without TDE before, right? But assuming, we are currently planning the migration, there is no database and remediation would have no effect.\nOn the other hand, we need an identity for a deployIfNotExist policy -- it need not necessarily be a user managed identity as it could be created as system-managed identity when creating the assignment, but it could be one.\nI think I'd go with Create Policy &gt; Create User-Managed Identity &gt; Create Assignment. Your thoughts...?"
      },
      {
        "date": "2022-01-26T09:59:00.000Z",
        "voteCount": 1,
        "content": "It looks like that you only aloud to use managed identity. Try to create policy assignment in portal or read here: https://docs.microsoft.com/en-us/azure/governance/policy/how-to/remediate-resources#how-remediation-security-works"
      },
      {
        "date": "2021-10-05T04:19:00.000Z",
        "voteCount": 3,
        "content": "Provided link supports answer given"
      },
      {
        "date": "2021-09-12T07:50:00.000Z",
        "voteCount": 4,
        "content": "This policy would achieve the effect required:\n\nhttps://github.com/Azure/azure-policy/blob/master/built-in-policies/policyDefinitions/SQL/SqlDBEncryption_Deploy.json\n\nDetails about remediation:\n\nhttps://docs.microsoft.com/en-us/azure/governance/policy/how-to/remediate-resources"
      }
    ],
    "examNameCode": "az-304",
    "topicNumber": "8"
  }
]