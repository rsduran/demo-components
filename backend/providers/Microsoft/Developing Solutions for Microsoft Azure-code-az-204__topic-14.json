[
  {
    "topic": 14,
    "index": 1,
    "url": "https://www.examtopics.com/discussions/microsoft/view/48225-exam-az-204-topic-14-question-1-discussion/",
    "body": "HOTSPOT -<br>You need to add code at line PC26 of Processing.cs to ensure that security policies are met.<br>How should you complete the code that you will add at line PC26? To answer, select the appropriate options in the answer area.<br>NOTE: Each correct selection is worth one point.<br>Hot Area:<br><img src=\"/assets/media/exam-media/04273/0032700001.jpg\" class=\"in-exam-image\"><br>",
    "options": [],
    "answer": "<img src=\"/assets/media/exam-media/04273/0032800001.jpg\" class=\"in-exam-image\">",
    "answerDescription": "Box 1: var key = await Resolver.ResolveKeyAsyn(keyBundle,KeyIdentifier.CancellationToken.None);<br>Box 2: var x = new BlobEncryptionPolicy(key,resolver);<br>Example:<br>// We begin with cloudKey1, and a resolver capable of resolving and caching Key Vault secrets.<br>BlobEncryptionPolicy encryptionPolicy = new BlobEncryptionPolicy(cloudKey1, cachingResolver); client.DefaultRequestOptions.EncryptionPolicy = encryptionPolicy;<br>Box 3: cloudblobClient. DefaultRequestOptions.EncryptionPolicy = x;<br>Reference:<br>https://github.com/Azure/azure-storage-net/blob/master/Samples/GettingStarted/EncryptionSamples/KeyRotation/Program.cs",
    "votes": [],
    "comments": [
      {
        "date": "2021-03-26T00:36:00.000Z",
        "voteCount": 32,
        "content": "The answer is correct"
      },
      {
        "date": "2022-10-08T02:42:00.000Z",
        "voteCount": 15,
        "content": "Also Microsoft says : you need not know .Net for this certification and proceed to ask questions deep in the dark corners of .Net libraries"
      },
      {
        "date": "2022-10-08T02:46:00.000Z",
        "voteCount": 1,
        "content": "The requirement says \"Receipt data must always be encrypted at rest.\" That might make a person think do not use client side encryption. But then proceeds to make the person guess from the answer choices that it is client side encryption. Why does this organization think this is a good way to ask questions?"
      },
      {
        "date": "2022-10-08T02:47:00.000Z",
        "voteCount": 1,
        "content": "\"Consider using service-side encryption features instead of client-side encryption. For more information about service-side encryption features, see Azure Storage encryption for data at rest.\""
      },
      {
        "date": "2023-09-03T03:54:00.000Z",
        "voteCount": 5,
        "content": "To be honest, if you are an experienced programmer you can guess the right answer to this question by pure logic, no .Net code or even Azure knowledge is needed."
      },
      {
        "date": "2023-12-28T00:57:00.000Z",
        "voteCount": 2,
        "content": "but guessing should not be the goal"
      },
      {
        "date": "2023-10-20T02:09:00.000Z",
        "voteCount": 2,
        "content": "Exactly! Did it from 1st try, but originally was very confused with plenty of optins, LOL.\nSo, 2nd and 3rd steps are easy to connect. And in 2nd step you should use \"key\" from Step1, but it only occurs in options 3 and 4. Since, 4 is about deletion policy, which doesn't make sense - then go with 3 which is Encryption Policy.\nAnd Encryption Policy is 1:1 mapping to last step 3 :)"
      },
      {
        "date": "2022-05-21T06:04:00.000Z",
        "voteCount": 2,
        "content": "Answer is correct, checked that in code,\nIf we take second box as correct then only 4rd option from 1st box fits"
      },
      {
        "date": "2021-12-19T04:51:00.000Z",
        "voteCount": 2,
        "content": "Given Answer is correct.\nRefer the below URL.\nhttps://csharp.hotexamples.com/examples/Microsoft.WindowsAzure.Storage.Blob/BlobEncryptionPolicy/-/php-blobencryptionpolicy-class-examples.html"
      },
      {
        "date": "2021-05-22T02:05:00.000Z",
        "voteCount": 9,
        "content": "BlobEncryptionPolicy accept \"Ikey\" on constructor \n\n =&gt; https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.storage.blob.blobencryptionpolicy.-ctor?view=azure-dotnet-legacy#Microsoft_Azure_Storage_Blob_BlobEncryptionPolicy__ctor_Microsoft_Azure_KeyVault_Core_IKey_Microsoft_Azure_KeyVault_Core_IKeyResolver_\n\n\n(keyBundle.Key return  a Microsoft.Azure.KeyVault.WebKey.JsonWebKey).\n\nThe answer is correct !"
      },
      {
        "date": "2021-05-22T02:01:00.000Z",
        "voteCount": 1,
        "content": "BlobEncryptionPolicy accept \"Ikey\" on constructor \n\n =&gt; https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.storage.blob.blobencryptionpolicy.-ctor?view=azure-dotnet-legacy#Microsoft_Azure_Storage_Blob_BlobEncryptionPolicy__ctor_Microsoft_Azure_KeyVault_Core_IKey_Microsoft_Azure_KeyVault_Core_IKeyResolver_\n\n\n(keyBundle.Key return  a Microsoft.Azure.KeyVault.WebKey.JsonWebKey).\n\nThe answer is correct !"
      },
      {
        "date": "2021-05-13T05:03:00.000Z",
        "voteCount": 6,
        "content": "1. var key = keyBundle.Key;\n2. var x = new BlobEncryptionPolicy(key, resolver);\n3. cloudBlobClient.DefaultRequestOptions.EncryptionPolicy = x;\n\nBut I'm afraid I've wasted my time. As you can see in the links, it's all legacy code.\n\nhttps://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.keyvault.keyvaultclientextensions.getkeyasync?view=azure-dotnet-legacy&amp;viewFallbackFrom=azure-dotnet\nhttps://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.storage.blob.blobencryptionpolicy.-ctor?view=azure-dotnet-legacy#Microsoft_Azure_Storage_Blob_BlobEncryptionPolicy__ctor_Microsoft_Azure_KeyVault_Core_IKey_Microsoft_Azure_KeyVault_Core_IKeyResolver_\nhttps://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.storage.blob.blobrequestoptions.encryptionpolicy?view=azure-dotnet-legacy#Microsoft_Azure_Storage_Blob_BlobRequestOptions_EncryptionPolicy"
      },
      {
        "date": "2021-08-23T05:28:00.000Z",
        "voteCount": 1,
        "content": "This is NOT correct, keyBundle.Key() is correct, it is a method, not a property, so no correct"
      },
      {
        "date": "2021-08-26T04:10:00.000Z",
        "voteCount": 3,
        "content": "No, it's a property. Read documenation. https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.keyvault.models.keybundle.key?view=azure-dotnet-legacy#Microsoft_Azure_KeyVault_Models_KeyBundle_Key"
      },
      {
        "date": "2022-10-21T04:34:00.000Z",
        "voteCount": 1,
        "content": "yes legacy code.. \n\nfor version 12 use KeyClient, ClientSideEncryptionOptions ...\n\nsee \nhttps://stackoverflow.com/questions/64644174/encryption-with-azure-bob-storage-v12-sdk-for-net"
      },
      {
        "date": "2021-05-06T22:01:00.000Z",
        "voteCount": 5,
        "content": "According to Udemy instructor Alan Rodriguez answer for first box is \nvar key = keyBundle.key"
      },
      {
        "date": "2021-04-03T06:41:00.000Z",
        "voteCount": 4,
        "content": "https://docs.microsoft.com/en-us/azure/storage/blobs/storage-encrypt-decrypt-blobs-key-vault?tabs=dotnet11#encrypt-blob-and-upload"
      }
    ],
    "examNameCode": "az-204",
    "topicNumber": "14"
  },
  {
    "topic": 14,
    "index": 2,
    "url": "https://www.examtopics.com/discussions/microsoft/view/46895-exam-az-204-topic-14-question-2-discussion/",
    "body": "You need to ensure the security policies are met.<br>What code do you add at line CS07 of ConfigureSSE.ps1?<br>",
    "options": [
      "<span class=\"multi-choice-letter\" data-choice-letter=\"A\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tA.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\u05d2\u20ac\"PermissionsToKeys create, encrypt, decrypt",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"B\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tB.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\u05d2\u20ac\"PermissionsToCertificates create, encrypt, decrypt",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"C\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tC.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\u05d2\u20ac\"PermissionsToCertificates wrapkey, unwrapkey, get",
      "<span class=\"multi-choice-letter\" data-choice-letter=\"D\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tD.\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\u05d2\u20ac\"PermissionsToKeys wrapkey, unwrapkey, get\n\t\t\t\t\t\t\t\t\t\t<span class=\"badge badge-success most-voted-answer-badge\" title=\"\" style=\"display: none;\" data-original-title=\"This answer is currently the most voted for in the discussion\">\n                Most Voted\n            </span>"
    ],
    "answer": "D",
    "answerDescription": "",
    "votes": [
      {
        "answer": "D",
        "count": 11,
        "isMostVoted": true
      }
    ],
    "comments": [
      {
        "date": "2021-03-22T23:42:00.000Z",
        "voteCount": 55,
        "content": "My opinion is that the answer is D.\n\nThe policy should belong to a key. In the case study the code retrieve the key so the GET access policy is mandatory. The wrap/unwrap is used for symmetric encryption and in this case study the task is to encrypt the blobs."
      },
      {
        "date": "2021-06-21T07:58:00.000Z",
        "voteCount": 11,
        "content": "Yes! it's D \nPermissionsToKeys wrapkey, unwrapkey, get\nhttps://docs.microsoft.com/en-us/powershell/module/az.storage/set-azstorageaccount?view=azps-5.8.0#example-5--set-encryption-keysource-to-keyvault\ncode example at line 7"
      },
      {
        "date": "2021-06-01T08:40:00.000Z",
        "voteCount": 12,
        "content": "Correct Answer: D\n\nPS C:\\&gt;Set-AzKeyVaultAccessPolicy -VaultName \"MyKeyVault\" -ObjectId $account.Identity.PrincipalId -PermissionsToKeys wrapkey,unwrapkey,get\n\nReference:\n\nhttps://docs.microsoft.com/en-us/powershell/module/az.storage/set-azstorageaccount?view=azps-5.8.0#example-5--set-encryption-keysource-to-keyvault"
      },
      {
        "date": "2024-03-13T00:13:00.000Z",
        "voteCount": 1,
        "content": "PermissionsToKeys wrapkey, unwrapkey, get"
      },
      {
        "date": "2023-04-24T09:01:00.000Z",
        "voteCount": 3,
        "content": "What is \u05d2\u20ac\" ?"
      },
      {
        "date": "2023-04-21T13:21:00.000Z",
        "voteCount": 2,
        "content": "are these questions enough to pass the exam?"
      },
      {
        "date": "2023-10-19T00:59:00.000Z",
        "voteCount": 3,
        "content": "Some questions here appeared to the actual exam. But the problem is the answer here are not accurate. Same in some highly voted answers. I failed on my first attempt (646/1000) even though I have contributor access."
      },
      {
        "date": "2023-02-20T19:09:00.000Z",
        "voteCount": 3,
        "content": "100% D - All certificates and secrets used to secure data must be stored in Azure Key Vault.\n\nYou need to retrieve the keys so get permission is required. The wrapkey and unwrapkey will be used for symmetric encryption to encrypt the blobs.\n\nBelow link contains an example of same scenario.\n\nhttps://docs.microsoft.com/en-us/powershell/module/az.storage/set-azstorageaccount?view=azps-8.0.0#example-5-set-encryption-keysource-to-keyvault\n\nhttps://docs.microsoft.com/en-us/azure/key-vault/keys/about-keys-details#key-access-control"
      },
      {
        "date": "2023-02-16T00:31:00.000Z",
        "voteCount": 1,
        "content": "Got this in 16/02/2023"
      },
      {
        "date": "2023-02-16T18:22:00.000Z",
        "voteCount": 1,
        "content": "same case study?"
      },
      {
        "date": "2022-11-17T09:50:00.000Z",
        "voteCount": 1,
        "content": "PermissionsToKeys wrapkey, unwrapkey, get"
      },
      {
        "date": "2022-10-08T02:54:00.000Z",
        "voteCount": 1,
        "content": "This page shows the example: https://learn.microsoft.com/en-us/powershell/module/azurerm.storage/set-azurermstorageaccount?view=azurermps-6.13.0#example-5-set-encryption-keysource-to-keyvault"
      },
      {
        "date": "2022-07-02T04:51:00.000Z",
        "voteCount": 1,
        "content": "https://docs.microsoft.com/en-us/powershell/module/az.storage/set-azstorageaccount?view=azps-8.0.0&amp;viewFallbackFrom=azps-5.8.0#example-5--set-encryption-keysource-to-keyvault:~:text=PS%20C%3A%5C%3E%20Set%2DAzKeyVaultAccessPolicy%20%2DVaultName%20%24keyvaultName%20%2DResourceGroupName%20%24resourceGroupName%20%2DObjectId%20%24userId.PrincipalId%20%2DPermissionsToKeys%20get%2Cwrapkey%2Cunwrapkey%20%2DBypassObjectIdValidation"
      },
      {
        "date": "2022-04-23T15:54:00.000Z",
        "voteCount": 1,
        "content": "B and C wrong parameters"
      },
      {
        "date": "2022-03-08T06:28:00.000Z",
        "voteCount": 1,
        "content": "https://docs.microsoft.com/en-us/azure/key-vault/keys/about-keys-details#key-access-control"
      },
      {
        "date": "2022-01-28T22:44:00.000Z",
        "voteCount": 4,
        "content": "PermissionsToKeys wrapkey, unwrapkey, get"
      },
      {
        "date": "2022-01-22T18:33:00.000Z",
        "voteCount": 1,
        "content": "The Set-AzureRmKeyValutAccessPolicy parameter -PermissionsToKeys specifies an array of key operation permissions to grant to a user or service principal.\nAccording to the reference, the answer is D\n\nhttps://docs.microsoft.com/es-es/powershell/module/azurerm.storage/set-azurermstorageaccount?view=azurermps-6.13.0"
      },
      {
        "date": "2021-09-20T16:50:00.000Z",
        "voteCount": 3,
        "content": "Answer is D.\nWrap,Unwrap,encrypt,decrypt available only for -PermissionsToKeys\nhttps://docs.microsoft.com/en-us/powershell/module/az.keyvault/set-azkeyvaultaccesspolicy?view=azps-6.4.0#parameters"
      },
      {
        "date": "2022-03-02T01:30:00.000Z",
        "voteCount": 1,
        "content": "This site also clearly states that PermissionsToCertificates only has these options:\nall, get, list, delete, create, import, update, managecontacts, getissuers, listissuers, setissuers, deleteissuers, manageissuers, recover, purge, backup, restore\n\n\nSo B and C are not even valid"
      },
      {
        "date": "2021-08-23T04:16:00.000Z",
        "voteCount": 2,
        "content": "D is correct from https://docs.microsoft.com/es-es/powershell/module/azurerm.storage/set-azurermstorageaccount?view=azurermps-6.13.0"
      },
      {
        "date": "2021-05-18T07:22:00.000Z",
        "voteCount": 3,
        "content": "Refer\nhttps://docs.microsoft.com/en-us/powershell/module/az.storage/set-azstorageaccount?view=azps-5.8.0#example-5--set-encryption-keysource-to-keyvault\nExample 5: Set Encryption KeySource to Keyvault\n\nAnswer should be D: wrapkey,unwrapkey,get\n\nPS C:\\&gt;Set-AzKeyVaultAccessPolicy -VaultName \"MyKeyVault\" -ObjectId $account.Identity.PrincipalId -PermissionsToKeys wrapkey,unwrapkey,get"
      }
    ],
    "examNameCode": "az-204",
    "topicNumber": "14"
  }
]